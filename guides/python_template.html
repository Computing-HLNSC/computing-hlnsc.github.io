<!DOCTYPE html>
<html lang="en">

<head id="head">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Computing Department | Cisco Networking Academy</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" href="../styles/tooltip.css">

	<!-- Highlight.js CDN -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
</head>

<body class="bg-[#0D3B66] font-sans">
	<div id="header"></div>
	<div id="imodal"></div>

	<section class="py-3">
		<div class="container mx-auto px-4">
			<div class="bg-white shadow-lg rounded-lg p-6">
				<h2 class="text-l font-bold mb-4 p-2">
					<a class="bg-gray-200 p-2 w-40 text-left" href="../index.html">üè† Return Home</a>
					<a class="bg-gray-200 p-2">Code Snippets</a>
				</h2>
				<hr><br>
				<!-- Chapter Nav -->
				<nav class="sticky top-0 z-40 bg-white/95 backdrop-blur border-b mb-4">
					<div class="flex flex-wrap gap-2 p-3">
						<a href="#chapter-one" data-chapter-link="chapter-one" class="chapter-link px-3 py-2 rounded border hover:bg-gray-50">Chapter One</a>
						<a href="#chapter-two" data-chapter-link="chapter-two" class="chapter-link px-3 py-2 rounded border hover:bg-gray-50">Chapter Two</a>
						<a href="#chapter-three" data-chapter-link="chapter-three" class="chapter-link px-3 py-2 rounded border hover:bg-gray-50">Chapter Three</a>
						<a href="#chapter-four" data-chapter-link="chapter-four" class="chapter-link px-3 py-2 rounded border hover:bg-gray-50">Chapter Four</a>
					</div>
				</nav>

				<!-- Global Step Controls (re-used per chapter) -->
				<div class="flex flex-wrap items-center justify-between gap-3 mb-4">
					<div class="inline-flex rounded-lg shadow-sm overflow-hidden border">
						<button id="viewAllBtn" class="px-4 py-2 text-sm font-medium bg-gray-100 hover:bg-gray-200">All steps</button>
						<button id="viewSingleBtn" class="px-4 py-2 text-sm font-medium hover:bg-gray-100">One at a time</button>
					</div>
					<div id="singleControls" class="hidden items-center gap-2">
						<span id="stepCounter" class="text-sm text-gray-600 mr-2">Step 1 of 1</span>
						<button id="prevStep" class="px-3 py-2 text-sm rounded bg-gray-200 hover:bg-gray-300">Previous</button>
						<button id="nextStep" class="px-3 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700">Next</button>
					</div>
				</div>

				<div id="chapters" class="">
					<!-- Chapter 1:  -->
					<section class="chapter" id="chapter-one" data-chapter="chapter-one">
						<div id="stepsWrapper-chapter-one" class="">
							<!-- Article Steps Here -->	
<article class="mb-8 border-l-4 border-blue-600 pl-4" data-step="4" aria-expanded="true">
	<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-start">

		<!-- LEFT: CODE BLOCK -->
		<div>
			<div class="rounded-lg overflow-hidden bg-gray-900 shadow-lg border border-gray-700">
				<div class="flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700">
					<span class="text-gray-300 text-sm font-semibold">Example Code</span>
				</div>
<pre><code id="demoCode" class="language-python">
for i in range(3):
    print(i)
</code></pre>

			</div>
		</div>

		<!-- RIGHT: OUTPUT / VISUAL AREA -->
		<div id="outputBox" class="bg-gray-100 border rounded-lg p-4 h-64">
			<div class="text-gray-500"></div>
		</div>
	</div>
</article>


						</div>
					</section>
				</div>
			</div>
		</div>
	</section>
</body>

<script src="../imports/imodal.js"></script> <!-- Js for the contact/info/turnitinuk buttons -->
<script src="../imports/base.js"></script> <!-- Js for the header and modal imports -->
<script>
(function() {
	// --- CHAPTER SWITCHING ---
	const chapterLinks = document.querySelectorAll('[data-chapter-link]');
	const chapters = Array.from(document.querySelectorAll('.chapter'));

	function setActiveChapter(id, pushHash = true) {
		chapters.forEach(ch => ch.classList.toggle('hidden', ch.id !== id));
		chapterLinks.forEach(a => {
		const active = a.getAttribute('data-chapter-link') === id;
			a.classList.toggle('bg-blue-50', active);
			a.classList.toggle('border-blue-500', active);
			a.classList.toggle('text-blue-700', active);
		});
		localStorage.setItem('hypervChapter', id);
		if (pushHash) location.hash = id;

		// Scroll to top smoothly when changing chapter
		window.scrollTo(0,0);

		// Re-scope steps to the newly active chapter
		initStepsForCurrentChapter();
	}


	chapterLinks.forEach(a => {
		a.addEventListener('click', (e) => {
			// Allow normal anchor behavior but still drive state
			const id = a.getAttribute('data-chapter-link');
			setActiveChapter(id);
		});
	});

	function getInitialChapter() {
		const fromHash = location.hash.replace('#', '').trim();
		if (fromHash && document.getElementById(fromHash)) return fromHash;
		const saved = localStorage.getItem('hypervChapter');
		if (saved && document.getElementById(saved)) return saved;
		return 'chapter-one';
	}

	window.addEventListener('hashchange', () => {
		const id = location.hash.replace('#', '').trim();
		if (id && document.getElementById(id)) setActiveChapter(id, false);
	});

	// --- STEPS (scoped to current chapter) ---
	const viewAllBtn = document.getElementById('viewAllBtn');
	const viewSingleBtn = document.getElementById('viewSingleBtn');
	const singleControls = document.getElementById('singleControls');
	const stepCounter = document.getElementById('stepCounter');
	const prevStep = document.getElementById('prevStep');
	const nextStep = document.getElementById('nextStep');

	let singleMode = true;
	let idx = 0;
	let currentSteps = [];

	function stopMedia(el) {
		el.querySelectorAll('iframe').forEach(f => f.src = f.src);
		el.querySelectorAll('video').forEach(v => v.pause());
	}

	function renderSteps() {
		const total = currentSteps.length || 0;

		if (!singleMode) {
			currentSteps.forEach(s => {
				s.classList.remove('hidden');
				s.setAttribute('aria-expanded', 'true');
			});
			singleControls.classList.add('hidden');
			viewAllBtn.classList.add('bg-gray-100');
			viewSingleBtn.classList.remove('bg-gray-100');
			return;
		}

		currentSteps.forEach((s, i) => {
			if (i === idx) {
				s.classList.remove('hidden');
				s.setAttribute('aria-expanded', 'true');
			} else {
				stopMedia(s);
				s.classList.add('hidden');
				s.setAttribute('aria-expanded', 'false');
			}
		});

		singleControls.classList.remove('hidden');
		stepCounter.textContent = `Step ${Math.min(idx+1,total)} of ${total || 1}`;
		viewAllBtn.classList.remove('bg-gray-100');
		viewSingleBtn.classList.add('bg-gray-100');
	}

	function initStepsForCurrentChapter() {
		const active = document.querySelector('.chapter:not(.hidden)');
		currentSteps = active ? Array.from(active.querySelectorAll('[data-step]')) : [];
		idx = 0;
		renderSteps();
	}

	// Controls
	viewAllBtn.addEventListener('click', () => {
		singleMode = false;
		renderSteps();
	});
	viewSingleBtn.addEventListener('click', () => {
		singleMode = true;
		renderSteps();
	});
	prevStep.addEventListener('click', () => {
		if (!currentSteps.length) return;
		idx = (idx - 1 + currentSteps.length) % currentSteps.length;
		renderSteps();
	});
	nextStep.addEventListener('click', () => {
		if (!currentSteps.length) return;
		idx = (idx + 1) % currentSteps.length;
		renderSteps();
	});

	// INIT
	setActiveChapter(getInitialChapter(), false);
})();
</script>

</html>
